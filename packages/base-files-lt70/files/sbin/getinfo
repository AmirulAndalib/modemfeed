#!/bin/sh

case "$1" in
	"adc"*)
		ADC=${1:3}
		ADC_RAW=$(i2ctransfer -f -y 0 w4@0x11 0x00 0x00 0x07 0x0$ADC && i2ctransfer -f -y 0 r4@0x11)
		ADC_RAW=$(echo "${ADC_RAW//0x}" | tr -d " ")
		printf "%d\n" 0x$ADC_RAW
	;;
	*)
		echo "Unsupported request:  adc0 adc1 adc2 adc3 adc4 adc5 adc6 adc7 adc8"
	;;
esac

exit 0